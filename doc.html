<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0070)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html.cs -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
<style type="text/css"></style></head>
<body>

<h1>Pekáreò</h1>

<dl>
	<dt>Autori</dt>
	<dd>Michal Cáb
	    <a href="mailto:xcabmi00@stud.fit.vutbr.cz">xcabmi00@stud.fit.vutbr.cz</a> -
		??????
	</dd>
	<dd>Filip Ilavský
	    <a href="mailto:xilavs01@stud.fit.vutbr.cz">xilavs01@stud.fit.vutbr.cz</a> - 
		databázový návrh a realizácia, u¾ívateµské rozhranie
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://iis.slovtherm.sk">http://iis.slovtherm.sk</a></dd>
</dl>

<h2>U¾ívatelia systému pre testovanie</h2>
<p>Uveïte prosím existujúcí zástupcu <strong>v¹etkých úloh u¾ívateµov</strong>.</p>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Úloha</th></tr>
<tr><td>admin</td><td>a</td><td>Administrátor</td></tr>
<tr><td>driver</td><td>a</td><td>Vodiè</td></tr>
<tr><td>customer</td><td>a</td><td>Zákazník</td></tr>
</tbody></table>

<h2>Implementácia</h2>
<p>Informaèný systém vyu¾íva MVC framework CodeIgniter implementovaný v PHP, pripojený na MySQL databázu. Ako grafické rozhranie je pou¾ité open source existujúce rie¹enie. V databázi bolo vykonaných niekoµko zmien, nakoµko pôvodný návrh sa popri implementácii ukázal v niektorých momentoch v reálnom systéme absolútne nepou¾iteµný, boli upravené integritné obmedzenia tak, aby lep¹ie vyhovovali zadaniu a podmienkam pôvodného zadania. Do databázy bola pridaná tabuµka Stav, ktorej jeden záznam je v¾dy spojený s jedným záznamom ktorejkoµvek tabuµky v databáze. Taktie¾ boli pridané primárne kµúèe formátu GUID, èiastoène aj pre jednoduchú pou¾iteµnos» tabuµky Stav. V databáze sa nikdy niè reálne nema¾e, nastavuje sa iba stav záznamu(konkrétne hodnota deleted) na 1, a pomocou pohµadov sa rozli¹ujú zmazané polo¾ky od nezmazaných. Výhodou je neporu¹enie integrity a nemo¾nos» stráty dát zlým zaobchádzaním s informaèným systémom.</p>
<p>Keï¾e ide o MVC framework, jednotlivé use-case budú priradené ku a vysvetlené kontrolérom(resp. metódou kontroléru), ktoré su nazvané takmer identicky aj v súborovom systéme. Kontroléry sa nachádyajú v zlo¾ke root/application/controllers/. Pri popise use-case bude pou¾itý formát /'názov kontroléru'/'metóda(ak nezadaná, tak index)' Práca s databázou je v modeloch, súboroch s obdobným názvom v zlo¾ke root/application/models/. Grafické rozhranie je implementované v zlo¾ke s pohladmi, root/application/views.</p>
<p>®iados» o priradenie do systému je implementovaná v /user/add, metóda vytvorí e¹te neschváleného u¾ívateµa, ktorého schváli administrátor pomocou /users/set. Na prihlásenie je pou¾itý /user/login, pracujúci s databázou a kontrolujúci stav prihlásenia pomocou PHP Session, pre zvý¹enie bezpeènosti aj s regenerovaním Session ID pri ka¾dom úspe¹nom prihlásení. Pri odhlásení je zmazaný autorizaèný údaj na strane serveru obsahujúci databázové ID prihláseného u¾ívateµa. Po prihlásení, alebo pokuse o vstupe na neautorizovaný kontrolér frameworku je zobrazený úvodný kontrolér s menom a priezviskom prihláseného u¾ívateµa. Zákazník mô¾e manipulova» so svojími adresami v kontroléri /address, pridáva» /address/add, upravova» /address/edit a maza» /address/delete. Zákazník mô¾e taktie¾ prezera» svoje objednávky na /order a vytvori» novú na /order/add. Po zmene alebo zmazaní adresy pou¾itej v niektorej z objednávok ostáva v objednávke adresa z èasu jej vytvorenia. Vodiè mô¾e prezera» objednávky zákazníkov pridelené automaticky systémom jemu podµa adresy zákazníka a tejto adresy oblasti, ktorá vodièovy prinále¾í na /orders, a taktie¾ mô¾e oznaèi» objednávku za vybavenú na /orders/get volaním metódy /orders/set. Administrátor mô¾e u¾ívateµov prezera» na /users, maza» pomocou /users/delete, schvaµova» pomocou /users/set. Prezerá produkty na /products, /products/get, pridáva na /products/add, ma¾e pomocou /products/delete a mení stav na /products/set. Obdobne platí aj pre materiály, s pou¾itím kontroléru /material, kde je av¹ak tie¾ mo¾né jednotlivé materiály meni» na /material/edit. Administrátor narozdiel od vodièa vidí úplne v¹etky objednávky v systéme a vie s nimi manipulova» ako vodiè, ale v kontroléri /allorders. Mô¾e priraïova» adresy ku oblastiam na /addresses, resp. /addresses/assignarea, taktie¾ oblasti ku vodièom na /areas, reps. /areas/assigndriver. Oblasti mô¾e maza» administrátor pomocou /areas/delete.</p>

<h2>In¹talácia</h2>
<ul>
<li>In¹talácia spoèíva v nakopírovaní obsahu zlo¾ky root na cieµové umiestnenie a nastavenie pripojenia na databázu v súbore /application/config/database.php. Po pripojení na pripravenú databázu je nutné upravi» .htaccess a aplikácia je od tohoto momentu plne funkèná.</li>
<li>Pou¾itá verzia frameworku CodeIgniter vy¾aduje minimálnu verziu PHP 5.1.6. MySQL databáza musí podporova» triggre.</li>
<li>Na vytvorenie databázy a sú prvotné naplnenie testovacími dátami v prieèinku dva súbory. IIS.sql a INSERT.sql. Na vytvorenie je nutné vyu¾itie MySQL serveru s podporou triggrov, bez ktorých aplikácia nebude takmer vôbec funkèná.</li>
</ul>

<h2>Známe problémy</h2>
<p>Z èasových dôvodov nie je implementovaná funkcionalita plánovania produkcie výroby produktov podµa vy»a¾enia pekárne obejdnávkami.</p>



</body></html>